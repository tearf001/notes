是的，`:where()`, `:is()`, 和 `:has()` 都是 CSS 选择器级别 4（Selectors Level 4）中新增的伪类，它们的主要目的是增强选择器的灵活性和可读性，同时在某些情况下也能优化性能。

**1. `:is()` 伪类 (以前叫 `:matches()`)**

*   **作用：** 匹配多个选择器中的任何一个。 它可以将多个选择器组合成一个，简化 CSS 代码，提高可读性。
*   **语法：** `:is(selector1, selector2, ...)`
*   **示例：**

    ```css
    /* 传统写法 */
    header h1, header h2, header h3,
    section h1, section h2, section h3,
    footer h1, footer h2, footer h3 {
      color: blue;
    }

    /* 使用 :is() */
    :is(header, section, footer) :is(h1, h2, h3) {
      color: blue;
    }
    ```
    上面的例子中,第二个`:is`可以去掉,直接写成`:is(header, section, footer) h1,h2,h3` 也是可以的

*   **特点：**
    *   `:is()` 优先级由参数列表中优先级最高的选择器决定。
    *   支持复杂的选择器列表，包括类选择器、ID 选择器、属性选择器等。

**2. `:where()` 伪类**

*   **作用：** 与 `:is()` 类似，也是匹配多个选择器中的任何一个。 最大的区别在于 `:where()` 的 *优先级始终为 0*。
*   **语法：** `:where(selector1, selector2, ...)`
*   **示例：**

    ```css
    /* 假设有一个全局样式 */
    h1 {
      color: red;
    }

    /* 使用 :where() 覆盖全局样式，但保持较低的优先级 */
    :where(article, section) h1 {
      color: blue; /* 在全局样式之后. :where() 优先级为 0 */
    }
      
    article h1{
        color: green; /*article下的h1会显示绿色, 优先级高于:where*/
    }
    ```

*   **特点：**
    *   `:where(...)` 优先级 *始终为 0*，无视其参数列表中的选择器优先级。常用于补充
    *   常用于重置样式或提供默认样式，同时允许后续的样式轻松覆盖。

**3. `:has()` 伪类 (关系伪类)**

*   **作用：** 匹配包含特定后代元素或满足特定条件的元素。  这是选择器级别 4 中最强大的新增功能之一，因为它允许你根据元素的 *后代* 或 *兄弟* 元素来选择元素。
*   **语法：** `:has(selector)`
*   **示例：**

    ```css
    /* 选择包含图片的段落 */
    p:has(img) {
      border: 1px solid red;
    }

    /* 选择后面紧跟着一个 h2 的 h1 */
    h1:has(+ h2) {
       margin-bottom: 0;
    }

    /* 选择至少包含一个带有 "active" 类的列表项的无序列表 */
    ul:has(li.active) {
      list-style-type: disc;
    }

      /*选择直接包含一个span子元素的a元素*/
    a:has(> span){
        color: red;
    }
    ```

*   **特点：**
    *   `:has()` 的优先级取决于它自身的选择器（类似于普通的选择器）。
    *   可以根据元素的后代、兄弟元素进行选择，极大地增强了选择器的表达能力。
    *   可以嵌套使用（但要注意性能）。
    *   *注意：*  `:has()` 的浏览器支持度相对较新，使用时需要考虑兼容性。

**4. `:not()` 伪类 (选择器级别 4 增强)**

*   **:not()** 选择器本身不是选择器级别 4 的新内容; 在之前的 CSS 版本中已经存在。
*   选择器级别4对其进行了增强, 使其可以接受一个选择器列表, 而不是单个简单选择器。
*   **作用:** 排除与指定选择器匹配的元素。
* **语法(旧):** `:not(selector)`
* **语法(选择器级别4):** `:not(selector1, selector2, ...)`
*   **旧示例:**
    ```css
    /*选择所有不是段落的元素*/
    :not(p){
        color: blue;
    }
    ```
* **选择器级别4示例**
   ```css
    /*选择所有class不是.red, 也不是.blue的div*/
    div:not(.red, .blue){
        color: green;
    }
   ```
*  **:not()** 的优先级由其参数决定

**总结:**
`:is()`, `:where()`, `:has()`, 以及增强的`:not()` 都是 CSS 选择器级别 4 中的重要补充。

*   `:is()` 和 `:where()` 用于*简化*选择器列表。
*   `:has()` 提供了强大的 *关系选择* 能力，可以根据元素的后代或兄弟元素来选择元素。
*   `:not()` 排除与指定选择器匹配的列表。

这些新的伪类可以组合使用，创建更复杂、更精确的选择器。可以使用 [Can I Use]([https://caniuse.com/](https://caniuse.com/)) 检查具体的兼容性情况。

